---
title: AWS(RDS, S3)
description: <center> RDS(db만들기), S3(버킷생성 방법)</center>
categories:
 - AWS
tags:
---


## RDS
RDS는 클라우드에서 관계형 데이터베이스를 더욱 쉽게 설정, 운영 및 확장할 수 있도록 지원하는 웹서비스 이다. 이 서비스는 산업 표준 관계형 데이터 베이스를 위한 경제적이고 크기 조절이 가능한 용량을 제공하고 공통 데이터베이스 관리 작업을 관리할 수 있다.

### RDS(DB생성하기)
aws는 1년간 프리티어로 사용할 수 있다. 하지만 RDS는 1개 까진 무료로 사용할 수 있기 때문에 RDS를 여러개 만드는 것이 아니라 1개의 RDS안에 여러개의 DB인스턴스를 생성해야 한다.

그럼 이제 아래의 방법을 이용해서 RDS에 DB인스턴스를 생성해보자. 우선 가상환경 안에서 아래의 코드를 입력해서 psql안으로 들어가야한다.

```
psql --host=자신의 RDS 엔드포인트 --user=RDS생성시 정한 user --port=5432 postgres
```

위 코드를 입력하면 패스워드를 물어볼 것이다. 이때 자신의 RDS 패스워드를 입력하면 된다.

패스워드를 입력하게 되면 아래와 같은 코드가 나온다.

```
postgres=>
```

이제 DB를 생성하는 코드를 입력해주면 DB생성이 완료된다.

```
CREATE DATABASE DB이름 OWNER 저장소이름;
```

위와 같이 입력하면 DB가 생성된다. 이제 DB가 제대로 만들어졌는지 확인해 보아야 한다. psql안에서 `\l`을 이용해서 확인하자.
psql에서 나가고 싶다면 `\q`를 입력하면 된다.


## S3
s3는 Amazon Simple Storage Service를 뜻하며 말 그대로 인터넷 스토리지 서비스이다. 개발자가 쉽게 웹 규모 컴퓨팅 작업을 할 수 있도록 설계되어있다. s3는 생성 즉시 3곳의 리전에 자동으로 저장된다.(표준 스토리지 사용시) 이용료가 걱정된다면 한곳의 리전에만 저장되는 버전을 사용할 수 있지만, 극단적으로 비용을 줄여야 하는 상황이 아니라면 표준 스토리지를 사용하는 것을 권장한다. 


### S3(버킷 만들기)
s3는 RDS와 마찬가지로 1개까지는 프리티어로 사용할 수 있지만 2개부터는 이용료가 부과된다. 하지만 하나의 s3안에서 여러개의 버킷을 만드는 것은 가능하니 이것을 활용하도록 하자.

주의!!!! s3키는 외부에 노출되면 안되기 때문에 git에도 연동시키면 안된다.

이제 버킷을 생성해 보도록 하자 우선 버킷을 만들기 위해선 boto3가 필요하기 때문에 가상환경 안에서 boto3를 설치 해주도록 하자.

```
pipenv install boto3
```
설치가 완료되면 터미널을 새로 열어서 ipython을 실행시켜 주자 물론 ipython도 설치가 되어 있어야 실행이 된다. ipython을 실행시키고 `import boto3`를 입력하자. 다음 아래의 코드를 차례로 실행하자.

```
import boto3
session = boto3.Session(profile_name='S3 인스턴스 이름')
client = session.clinet('s3')
client.create_bucket(
	Bucket='버켓명 유일해야 한다 이미 있는 이름은 사용할 수 없다.',
	CreateBucketConfiguration={
        'LoactionConstraint':'ap-northeast-2'
	}
)
```

이렇게 하면 버킷 생성이 완료된 것이다. 

## RDS와 S3의 차이점
RDS는 데이터베이스이고 s3는 server에 있는 storage이다. 데이터베이스는 어떻게 저장송에 데이터를 저장할지를 정하는 것이고, storage는 그런 정보가 들어 있는 곳이다.